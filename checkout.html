<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Home Cooked Meals</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="icon" href="public/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="public/favicon.ico" type="image/x-icon">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
</head>
<body class="checkout-page">
    <div class="home">
        <!-- Header -->
        <header class="header">
           <div class="container">
                 <a href="index.html" class="logo-container" style="text-decoration: none;">
                    <i class="logo-icon fa-solid fa-leaf"></i>
                    <span class="logo-text">Home Cooked Meals</span>
                </a>
                <div class="nav-cart-container">
                    <nav class="navigation">
                        <ul class="navigation-pill-list">
                            <li><a href="index.html" class="navigation-pill">Home</a></li>
                            <li><a href="menu.html" class="navigation-pill">Menu</a></li>
                            <li><a href="locations.html" class="navigation-pill">Locations</a></li>
                            <li><a href="auth.html" class="navigation-pill">Login</a></li>
                        </ul>
                    </nav>
                    <div class="cart-container">
                        <a href="cart.html" aria-label="View Cart">
                            <i class="simple-cart fa-solid fa-cart-shopping"></i>
                            <span id="cart-count">0</span>
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main>
            <div class="checkout-container-wrapper">
                <div class="checkout-container">

                    <!-- Wrapper for dynamic content -->
                    <div id="checkout-content">

                        <!-- Loading State (visible initially) -->
                        <div class="loading-error-message content-section">Loading checkout details...</div>

                        <!-- Checkout Form (hidden initially) -->
                        <form id="checkout-form" class="content-section hidden">
                             <h1 class="checkout-title">Checkout</h1>
                            <!-- Delivery Method -->
                            <fieldset class="checkout-form-section"> <legend class="section-heading">Delivery Method</legend> <div class="radio-group" id="delivery-method"> <label class="radio-option"> <input type="radio" name="deliveryType" value="pickup" checked> <span><i class="fa-solid fa-store" style="margin-right: 5px;"></i> Pick-up</span> </label> <label class="radio-option"> <input type="radio" name="deliveryType" value="delivery"> <span><i class="fa-solid fa-truck" style="margin-right: 5px;"></i> Delivery</span> </label> </div> </fieldset>
                            <!-- Address Section -->
                            <section id="address-section" class="checkout-form-section hidden-section"> <h3 class="section-heading">Shipping Address</h3> <div class="form-group"> <label for="street" class="form-label">Street Address</label> <input type="text" id="street" class="form-input" name="street" autocomplete="street-address"> </div> <div class="form-group"> <label for="city" class="form-label">City</label> <input type="text" id="city" class="form-input" name="city" autocomplete="address-level2"> </div> <div class="form-row-grid"> <div class="form-group"> <label for="zip" class="form-label">ZIP / Postal Code</label> <input type="text" id="zip" class="form-input" name="zip" autocomplete="postal-code"> </div> <div class="form-group"> <label for="country" class="form-label">Country</label> <input type="text" id="country" class="form-input" name="country" autocomplete="country-name"> </div> </div> </section>
                            <!-- Payment Method -->
                            <fieldset class="checkout-form-section"> <legend class="section-heading">Payment Method</legend> <div class="radio-group" id="payment-method"> <label class="radio-option"> <input type="radio" name="paymentType" value="Card" checked> <span><i class="fa-regular fa-credit-card" style="margin-right: 5px;"></i> Credit Card</span> </label> <label class="radio-option"> <input type="radio" name="paymentType" value="PayPal"> <span><i class="fa-brands fa-paypal" style="margin-right: 5px;"></i> PayPal</span> </label> </div> </fieldset>
                            <!-- Card Details Section -->
                            <section id="card-details-section" class="checkout-form-section hidden-section visible"> <h3 class="section-heading">Card Details</h3> <div class="form-group"> <label for="card-number" class="form-label">Card Number</label> <input type="text" id="card-number" class="form-input" name="cardNumber" placeholder="•••• •••• •••• ••••" inputmode="numeric" pattern="[\d ]{16,19}" autocomplete="cc-number" title="Enter 16-19 digit card number"> </div> <div class="form-group"> <label for="card-name" class="form-label">Name on Card</label> <input type="text" id="card-name" class="form-input" name="cardName" autocomplete="cc-name"> </div> <div class="form-row-grid"> <div class="form-group"> <label for="card-expiry" class="form-label">Expiry Date (MM/YY)</label> <input type="text" id="card-expiry" class="form-input" name="cardExpiry" placeholder="MM/YY" pattern="\d{2}\s?\/\s?\d{2}" autocomplete="cc-exp" title="Enter expiry date as MM/YY"> </div> <div class="form-group"> <label for="card-cvc" class="form-label">CVC / CVV</label> <input type="text" id="card-cvc" class="form-input" name="cardCvc" placeholder="•••" inputmode="numeric" pattern="\d{3,4}" autocomplete="cc-csc" title="Enter 3 or 4 digit security code"> </div> </div> </section>
                            <!-- Order Total Display -->
                             <div class="order-total-display">Total: <strong id="order-total-value">$0.00</strong></div>
                            <!-- Submit Button -->
                            <button type="submit" class="submit-button" id="place-order-button" disabled>
                                <span class="button-text">Place Order</span>
                                <!-- Spinner initially hidden -->
                                <!-- <span class="spinner" style="display: none;"></span> -->
                            </button>
                        </form>

                        <!-- Confirmation Section (hidden initially) -->
                        <div id="confirmation-section" class="confirmation-container content-section hidden">
                            <div class="confirmation-icon"><i class="fa-solid fa-circle-check"></i></div>
                            <h2 class="confirmation-title">Order Placed Successfully!</h2>
                            <p class="confirmation-message" id="confirmation-text">Your order <strong id="confirmation-order-id">#</strong> is confirmed. <span id="confirmation-delivery-info"></span></p>
                            <div class="confirmation-actions"> <a href="menu.html">Continue Shopping</a> </div>
                        </div>
                    </div> <!-- End #checkout-content -->

                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer"> <div class="container"> <p>© <span id="currentYear">...</span> Home Cooked Meals. All rights reserved.</p> <nav class="footer-nav"> <a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Service</a> </nav> </div> </footer>
    </div>

    <!-- Scripts -->
    <script src="js/header_auth.js"></script>
    <script src="js/api.js"></script>
    <script src="js/checkout_app.js"></script>
    <script src="js/script.js"></script>
</body>
</html>